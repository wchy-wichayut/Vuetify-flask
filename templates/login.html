<!-- {% extends "layout.html" %}
{% block content %}
<br>
<br>
<br>
<div id="app">
    <v-app id="inspire">
        <v-container fluid>
            <v-card elevetion="4" style="padding-top: 15px;">
                <form method="POST">
                    <v-text-field name="username" label="Username" required outlined dense
                        style="margin: 0px 15px 0px 15px"></v-text-field>

                    <v-text-field name="pword" label="Password" required outlined dense
                        style="margin: 0px 15px 0px 15px;"></v-text-field>
                    <!-- <v-alert color="red" type="error"> {{error}}</v-alert> -->
                    <v-row style="margin-top: -15px;">
                        <v-btn color="#00BFA5" type="submit" elevation="2" rounded
                            style="margin: 0px 10px 10px 25px; color:white; margin-right: 10px;">
                            Sign in
                        </v-btn>
                        <v-dialog v-model="dialog" persistent max-width="600px">
                            <template v-slot:activator="{ on, attrs }">
                                <v-btn color="#B388FF" dark v-bind="attrs" v-on="on" rounded>
                                    Sign up
                                </v-btn>
                            </template>
                            <v-card>
                                <v-card-title>
                                    <span class="headline">User Information</span>
                                </v-card-title>
                                <v-card-text>
                                    <v-container>
                                        <v-row>
                                            <v-col cols="12" sm="6">
                                                <v-text-field label="First name*" :rules="[rules.required]" required
                                                    outlined dense>
                                                </v-text-field>
                                            </v-col>
                                            <v-col cols="12" sm="6">
                                                <v-text-field label="Last name*" :rules="[rules.required]" required
                                                    outlined dense></v-text-field>
                                            </v-col>
                                            <v-col cols="12" sm="6">
                                                <v-text-field label="Username*" type="usname" :rules="[rules.required]"
                                                    required outlined dense>
                                                </v-text-field>
                                            </v-col>
                                            <v-col cols="12" sm="6">
                                                <v-text-field label="Email*" type="email"
                                                    :rules="[rules.required, rules.email]" required outlined dense>
                                                </v-text-field>
                                            </v-col>
                                            <v-col cols="12" sm="6">
                                                <v-text-field :append-icon="pword ? 'mdi-eye' : 'mdi-eye-off'"
                                                    v-model="textPwd" :rules="[rules.required, rules.min]"
                                                    :type="pword ? 'text' : 'password'" label="Password*"
                                                    hint="At least 6 characters" required counter outlined dense counter
                                                    @click:append="pword = !pword">
                                                </v-text-field>
                                            </v-col>
                                            <v-col cols="12" sm="6">
                                                <v-text-field :append-icon="confirmpw ? 'mdi-eye' : 'mdi-eye-off'"
                                                    v-model="textCon" :rules="[rules.required, rules.min]"
                                                    :type="confirmpw ? 'text' : 'password'" label="Confirm Password*"
                                                    hint="At least 6 characters" required counter outlined dense counter
                                                    @click:append="confirmpw = !confirmpw">
                                                </v-text-field>
                                            </v-col>
                                            <br>
                                            <v-alert :value="alert" color="pink" dark border="top"
                                                transition="scale-transition">
                                                Please Input
                                            </v-alert>
                                        </v-row>

                                    </v-container>
                                </v-card-text>
                                <v-card-actions>
                                    <v-spacer></v-spacer>
                                    <v-btn color="blue darken-1" text @click="dialog = false">
                                        Close
                                    </v-btn>
                                    <v-btn color="blue darken-1" text @click="checkPwd">
                                        Save
                                    </v-btn>
                                    </button>
                                </v-card-actions>
                            </v-card>
                        </v-dialog>
                    </v-row>
                </form>
            </v-card>
        </v-container>
    </v-app>
</div>

<script>
    new Vue({
        el: '#app',
        vuetify: new Vuetify(),
        data() {
            return {
                dialog: false,
                pword: false,
                confirmpw: false,
                textCon: '',
                textPwd: '',
                alert: false,
                rules: {
                    required: value => !!value || 'This field is required',
                    min: v => v.length >= 6 || 'Min 6 Characters',
                    email: value => {
                        const pattern = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
                        return pattern.test(value) || 'Invalid E-mail'
                    },
                },
            }
        },
        methods: {
            checkPwd() {
                let p1 = this.textPwd;
                let p2 = this.textCon;
                if (p1 === p2) {
                    this.alert = this.alert = true
                    console.log(this.alert);
                }
                else {
                    this.alert = this.alert = false
                    console.log(this.alert);
                }
            },
        },
        delimiters: ["[[", "]]"],
    })
</script>

{% endblock %} 